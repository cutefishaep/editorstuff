<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="dark-mode">

    <div class="window-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="traffic-lights">
                <div class="light red"></div>
                <div class="light yellow"></div>
                <div class="light green"></div>
            </div>

            <div class="sidebar-menu">
                <div class="menu-item active" data-category="SOFTWARE">
                    <i class="fa-solid fa-laptop-code"></i>
                    <span>SOFTWARE</span>
                </div>
                <div class="menu-item" data-category="PLUGIN">
                    <i class="fa-solid fa-plug"></i>
                    <span>PLUGIN</span>
                </div>
                <div class="menu-item" data-category="PRESET">
                    <i class="fa-solid fa-file-export"></i>
                    <span>PRESET</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <header class="toolbar">
                <div class="title">Mac OS</div>
                <div class="search-bar">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="search-input" placeholder="Search">
                </div>
            </header>

            <div class="list-header">
                <div class="col-checkbox">
                    <input type="checkbox" id="select-all">
                </div>
                <div class="col-name">Name</div>
                <!-- Category removed -->
                <div class="col-os">Min OS</div>
                <div class="col-size">Size</div>
            </div>

            <div class="list-container" id="list-container">
                <!-- Items will be injected here via JS -->
            </div>

            <footer class="action-bar">
                <div class="status-text"><span id="selected-count">0</span> items selected</div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn-secondary" onclick="location.href='index.html'">Cancel</button>
                    <button class="btn-primary" id="confirm-btn">Confirm</button>
                </div>
            </footer>
        </div>
    </div>

    <!-- Download Window (Hidden by default) -->
    <!-- Download Window (Modal Overlay) -->
    <div class="overlay" id="download-overlay" style="display: none;">
        <div class="download-window" id="download-modal">
            <!-- Header -->
            <div class="modal-header">
                <h3>Ready to Download</h3>
                <div class="traffic-lights" style="margin: 0; transform: scale(0.85);">
                    <div class="light red" id="close-download-x" style="cursor: pointer;"></div>
                    <div class="light yellow"></div>
                    <div class="light green"></div>
                </div>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <p style="margin-top: 0; margin-bottom: 16px; color: var(--text-secondary); font-size: 13px;">
                    The following items are ready for download:
                </p>
                <div id="download-list">
                    <!-- Download items go here -->
                </div>
            </div>

            <!-- Footer -->
            <footer class="modal-footer">
                <div class="password-container"
                    style="display: flex; align-items: center; gap: 10px; color: var(--text-secondary); font-size: 13px;">
                    <span>PASS : <strong style="color: var(--text-primary);">EDITINGSTUFF</strong></span>
                    <button id="copy-pass-btn-mac" title="Copy Password"
                        style="background:none; border:none; color: var(--text-primary); cursor: pointer; transition: color 0.2s;"><i
                            class="fa-regular fa-clipboard"></i></button>
                </div>
                <button class="btn-secondary" id="close-download-btn">Close</button>
            </footer>
        </div>
    </div>

    <!-- Instruction Modal (macOS Style) -->
    <div class="overlay" id="instruction-overlay" style="display: none; z-index: 1001;">
        <div class="download-window" style="max-height: 85vh;">
            <div class="modal-header">
                <h3 id="mac-inst-title">Installation Guide</h3>
                <div class="traffic-lights" style="margin: 0; transform: scale(0.85);">
                    <div class="light red" onclick="closeInstruction()" style="cursor: pointer;"></div>
                    <div class="light yellow"></div>
                    <div class="light green"></div>
                </div>
            </div>
            <div class="modal-body" style="padding: 25px;">
                <div id="mac-inst-content"
                    style="white-space: pre-wrap; line-height: 1.7; font-size: 14px; color: var(--text-primary); font-weight: 400;">
                </div>
            </div>
            <footer class="modal-footer">
                <div></div>
                <button class="btn-primary" onclick="closeInstruction()">Done</button>
            </footer>
        </div>
    </div>
    <div class="mobile-warning">
        <div class="warning-icon"><i class="fa-solid fa-desktop"></i></div>
        <h2>Desktop Experience Required</h2>
        <p>Please open this application on a computer/desktop with a wider screen.</p>
    </div>

    <!-- macOS Dock -->
    <div class="dock-container" id="mac-dock">
        <div class="dock-item" id="restore-mac-btn" title="Restore Editor Stuff">
            <i class="fa-solid fa-toolbox"></i>
        </div>
    </div>

    <script src="mac_script.js"></script>
</body>

</html>